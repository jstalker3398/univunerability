<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css"><link rel="stylesheet" href="css/L.Control.Locate.min.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title>GEO641 Lab1</title>
    </head>
    <body>

<h2>GEO 641 Lab1 Toronto Univeristy Vulnerability</h2>

<p>Author: Jack Stalker. Data source: http://map.toronto.ca/wellbeing/

<p>Toronto's neighbourhoods are characterized by....</p>
        <div id="map">
        </div>

        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script><script src="js/L.Control.Locate.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-measure.js"></script>
        <script src="data/UniversityDegrees_1.js"></script>
        <script src="data/AffordableApartmentRent_2.js"></script>
        <script src="data/GiniCoefficient_3.js"></script>
        <script src="data/Twentyyearolds_4.js"></script>
        <script src="data/Low_income_singles_5.js"></script>
        <script src="data/Universityvunerabilityscore_6.js"></script>
        <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;
            highlightLayer.openPopup();
        }
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:1
        }).fitBounds([[43.09195415561172,-79.61921616494942],[44.24976808724218,-79.10171135995601]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        L.control.locate({locateOptions: {maxZoom: 19}}).addTo(map);
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'feet',
            secondaryLengthUnit: 'miles',
            primaryAreaUnit: 'sqfeet',
            secondaryAreaUnit: 'sqmiles'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_OSMStandard_0');
        map.getPane('pane_OSMStandard_0').style.zIndex = 400;
        var layer_OSMStandard_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OSMStandard_0',
            opacity: 1.0,
            attribution: '<a href="https://www.openstreetmap.org/copyright">Â© OpenStreetMap contributors, CC-BY-SA</a>',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_OSMStandard_0;
        map.addLayer(layer_OSMStandard_0);
        function pop_UniversityDegrees_1(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['score'] !== null ? autolinker.link(feature.properties['score'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_UniversityDegrees_1_0(feature) {
            if (feature.properties['Sheet2_RangeUni'] >= 0.000000 && feature.properties['Sheet2_RangeUni'] <= 0.076828 ) {
                return {
                pane: 'pane_UniversityDegrees_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_RangeUni'] >= 0.076828 && feature.properties['Sheet2_RangeUni'] <= 0.126517 ) {
                return {
                pane: 'pane_UniversityDegrees_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_RangeUni'] >= 0.126517 && feature.properties['Sheet2_RangeUni'] <= 0.183357 ) {
                return {
                pane: 'pane_UniversityDegrees_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_RangeUni'] >= 0.183357 && feature.properties['Sheet2_RangeUni'] <= 0.296618 ) {
                return {
                pane: 'pane_UniversityDegrees_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_RangeUni'] >= 0.296618 && feature.properties['Sheet2_RangeUni'] <= 1.000000 ) {
                return {
                pane: 'pane_UniversityDegrees_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_UniversityDegrees_1');
        map.getPane('pane_UniversityDegrees_1').style.zIndex = 401;
        map.getPane('pane_UniversityDegrees_1').style['mix-blend-mode'] = 'normal';
        var layer_UniversityDegrees_1 = new L.geoJson(json_UniversityDegrees_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_UniversityDegrees_1',
            layerName: 'layer_UniversityDegrees_1',
            pane: 'pane_UniversityDegrees_1',
            onEachFeature: pop_UniversityDegrees_1,
            style: style_UniversityDegrees_1_0,
        });
        bounds_group.addLayer(layer_UniversityDegrees_1);
        map.addLayer(layer_UniversityDegrees_1);
        function pop_AffordableApartmentRent_2(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['score'] !== null ? autolinker.link(feature.properties['score'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_AffordableApartmentRent_2_0(feature) {
            if (feature.properties['Sheet2_Srrentavg'] >= 0.000000 && feature.properties['Sheet2_Srrentavg'] <= 0.315789 ) {
                return {
                pane: 'pane_AffordableApartmentRent_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Srrentavg'] >= 0.315789 && feature.properties['Sheet2_Srrentavg'] <= 0.380117 ) {
                return {
                pane: 'pane_AffordableApartmentRent_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Srrentavg'] >= 0.380117 && feature.properties['Sheet2_Srrentavg'] <= 0.460819 ) {
                return {
                pane: 'pane_AffordableApartmentRent_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Srrentavg'] >= 0.460819 && feature.properties['Sheet2_Srrentavg'] <= 0.597661 ) {
                return {
                pane: 'pane_AffordableApartmentRent_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Srrentavg'] >= 0.597661 && feature.properties['Sheet2_Srrentavg'] <= 1.000000 ) {
                return {
                pane: 'pane_AffordableApartmentRent_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_AffordableApartmentRent_2');
        map.getPane('pane_AffordableApartmentRent_2').style.zIndex = 402;
        map.getPane('pane_AffordableApartmentRent_2').style['mix-blend-mode'] = 'normal';
        var layer_AffordableApartmentRent_2 = new L.geoJson(json_AffordableApartmentRent_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_AffordableApartmentRent_2',
            layerName: 'layer_AffordableApartmentRent_2',
            pane: 'pane_AffordableApartmentRent_2',
            onEachFeature: pop_AffordableApartmentRent_2,
            style: style_AffordableApartmentRent_2_0,
        });
        bounds_group.addLayer(layer_AffordableApartmentRent_2);
        map.addLayer(layer_AffordableApartmentRent_2);
        function pop_GiniCoefficient_3(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['score'] !== null ? autolinker.link(feature.properties['score'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_GiniCoefficient_3_0(feature) {
            if (feature.properties['Sheet2_Gini'] >= 0.000000 && feature.properties['Sheet2_Gini'] <= 0.478498 ) {
                return {
                pane: 'pane_GiniCoefficient_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Gini'] >= 0.478498 && feature.properties['Sheet2_Gini'] <= 0.538087 ) {
                return {
                pane: 'pane_GiniCoefficient_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Gini'] >= 0.538087 && feature.properties['Sheet2_Gini'] <= 0.579215 ) {
                return {
                pane: 'pane_GiniCoefficient_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Gini'] >= 0.579215 && feature.properties['Sheet2_Gini'] <= 0.615022 ) {
                return {
                pane: 'pane_GiniCoefficient_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Gini'] >= 0.615022 && feature.properties['Sheet2_Gini'] <= 1.000000 ) {
                return {
                pane: 'pane_GiniCoefficient_3',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_GiniCoefficient_3');
        map.getPane('pane_GiniCoefficient_3').style.zIndex = 403;
        map.getPane('pane_GiniCoefficient_3').style['mix-blend-mode'] = 'normal';
        var layer_GiniCoefficient_3 = new L.geoJson(json_GiniCoefficient_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_GiniCoefficient_3',
            layerName: 'layer_GiniCoefficient_3',
            pane: 'pane_GiniCoefficient_3',
            onEachFeature: pop_GiniCoefficient_3,
            style: style_GiniCoefficient_3_0,
        });
        bounds_group.addLayer(layer_GiniCoefficient_3);
        map.addLayer(layer_GiniCoefficient_3);
        function pop_Twentyyearolds_4(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['score'] !== null ? autolinker.link(feature.properties['score'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Twentyyearolds_4_0(feature) {
            if (feature.properties['Sheet2_Stwenty'] >= 0.000000 && feature.properties['Sheet2_Stwenty'] <= 0.035721 ) {
                return {
                pane: 'pane_Twentyyearolds_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Stwenty'] >= 0.035721 && feature.properties['Sheet2_Stwenty'] <= 0.054863 ) {
                return {
                pane: 'pane_Twentyyearolds_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Stwenty'] >= 0.054863 && feature.properties['Sheet2_Stwenty'] <= 0.085797 ) {
                return {
                pane: 'pane_Twentyyearolds_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Stwenty'] >= 0.085797 && feature.properties['Sheet2_Stwenty'] <= 0.131871 ) {
                return {
                pane: 'pane_Twentyyearolds_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_Stwenty'] >= 0.131871 && feature.properties['Sheet2_Stwenty'] <= 1.000000 ) {
                return {
                pane: 'pane_Twentyyearolds_4',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_Twentyyearolds_4');
        map.getPane('pane_Twentyyearolds_4').style.zIndex = 404;
        map.getPane('pane_Twentyyearolds_4').style['mix-blend-mode'] = 'normal';
        var layer_Twentyyearolds_4 = new L.geoJson(json_Twentyyearolds_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Twentyyearolds_4',
            layerName: 'layer_Twentyyearolds_4',
            pane: 'pane_Twentyyearolds_4',
            onEachFeature: pop_Twentyyearolds_4,
            style: style_Twentyyearolds_4_0,
        });
        bounds_group.addLayer(layer_Twentyyearolds_4);
        map.addLayer(layer_Twentyyearolds_4);
        function pop_Low_income_singles_5(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>ID</strong><br />' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['score'] !== null ? autolinker.link(feature.properties['score'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Low_income_singles_5_0(feature) {
            if (feature.properties['Sheet2_scoreLowerIncome'] >= 0.000000 && feature.properties['Sheet2_scoreLowerIncome'] <= 0.016252 ) {
                return {
                pane: 'pane_Low_income_singles_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_scoreLowerIncome'] >= 0.016252 && feature.properties['Sheet2_scoreLowerIncome'] <= 0.030251 ) {
                return {
                pane: 'pane_Low_income_singles_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_scoreLowerIncome'] >= 0.030251 && feature.properties['Sheet2_scoreLowerIncome'] <= 0.047096 ) {
                return {
                pane: 'pane_Low_income_singles_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_scoreLowerIncome'] >= 0.047096 && feature.properties['Sheet2_scoreLowerIncome'] <= 0.094871 ) {
                return {
                pane: 'pane_Low_income_singles_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Sheet2_scoreLowerIncome'] >= 0.094871 && feature.properties['Sheet2_scoreLowerIncome'] <= 1.000000 ) {
                return {
                pane: 'pane_Low_income_singles_5',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_Low_income_singles_5');
        map.getPane('pane_Low_income_singles_5').style.zIndex = 405;
        map.getPane('pane_Low_income_singles_5').style['mix-blend-mode'] = 'normal';
        var layer_Low_income_singles_5 = new L.geoJson(json_Low_income_singles_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Low_income_singles_5',
            layerName: 'layer_Low_income_singles_5',
            pane: 'pane_Low_income_singles_5',
            onEachFeature: pop_Low_income_singles_5,
            style: style_Low_income_singles_5_0,
        });
        bounds_group.addLayer(layer_Low_income_singles_5);
        map.addLayer(layer_Low_income_singles_5);
        function pop_Universityvunerabilityscore_6(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>ID</strong><br />' + (feature.properties['ID'] !== null ? autolinker.link(feature.properties['ID'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Neighbourh</strong><br />' + (feature.properties['Neighbourh'] !== null ? autolinker.link(feature.properties['Neighbourh'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['University'] !== null ? autolinker.link(feature.properties['University'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_Neighbourhood</th>\
                        <td>' + (feature.properties['Sheet2_Neighbourhood'] !== null ? autolinker.link(feature.properties['Sheet2_Neighbourhood'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_scoreLowerIncome</th>\
                        <td>' + (feature.properties['Sheet2_scoreLowerIncome'] !== null ? autolinker.link(feature.properties['Sheet2_scoreLowerIncome'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Sheet2_MaxUni'] !== null ? autolinker.link(feature.properties['Sheet2_MaxUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_Stwenty</th>\
                        <td>' + (feature.properties['Sheet2_Stwenty'] !== null ? autolinker.link(feature.properties['Sheet2_Stwenty'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_Gini</th>\
                        <td>' + (feature.properties['Sheet2_Gini'] !== null ? autolinker.link(feature.properties['Sheet2_Gini'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_Srrentavg</th>\
                        <td>' + (feature.properties['Sheet2_Srrentavg'] !== null ? autolinker.link(feature.properties['Sheet2_Srrentavg'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Sheet2_RangeUni</th>\
                        <td>' + (feature.properties['Sheet2_RangeUni'] !== null ? autolinker.link(feature.properties['Sheet2_RangeUni'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Universityvunerabilityscore_6_0(feature) {
            if (feature.properties['score'] >= 0.167000 && feature.properties['score'] <= 0.216800 ) {
                return {
                pane: 'pane_Universityvunerabilityscore_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['score'] >= 0.216800 && feature.properties['score'] <= 0.237000 ) {
                return {
                pane: 'pane_Universityvunerabilityscore_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,191,191,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['score'] >= 0.237000 && feature.properties['score'] <= 0.259000 ) {
                return {
                pane: 'pane_Universityvunerabilityscore_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,128,128,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['score'] >= 0.259000 && feature.properties['score'] <= 0.301400 ) {
                return {
                pane: 'pane_Universityvunerabilityscore_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,64,64,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['score'] >= 0.301400 && feature.properties['score'] <= 0.625000 ) {
                return {
                pane: 'pane_Universityvunerabilityscore_6',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,0,0,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_Universityvunerabilityscore_6');
        map.getPane('pane_Universityvunerabilityscore_6').style.zIndex = 406;
        map.getPane('pane_Universityvunerabilityscore_6').style['mix-blend-mode'] = 'normal';
        var layer_Universityvunerabilityscore_6 = new L.geoJson(json_Universityvunerabilityscore_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Universityvunerabilityscore_6',
            layerName: 'layer_Universityvunerabilityscore_6',
            pane: 'pane_Universityvunerabilityscore_6',
            onEachFeature: pop_Universityvunerabilityscore_6,
            style: style_Universityvunerabilityscore_6_0,
        });
        bounds_group.addLayer(layer_Universityvunerabilityscore_6);
        map.addLayer(layer_Universityvunerabilityscore_6);
        var baseMaps = {};
        L.control.layers(baseMaps,{'University vunerability score<br /><table><tr><td style="text-align: center;"><img src="legend/Universityvunerabilityscore_6_016702170.png" /></td><td>0.167 - 0.217</td></tr><tr><td style="text-align: center;"><img src="legend/Universityvunerabilityscore_6_021702371.png" /></td><td>0.217 - 0.237</td></tr><tr><td style="text-align: center;"><img src="legend/Universityvunerabilityscore_6_023702592.png" /></td><td>0.237 - 0.259</td></tr><tr><td style="text-align: center;"><img src="legend/Universityvunerabilityscore_6_025903013.png" /></td><td>0.259 - 0.301</td></tr><tr><td style="text-align: center;"><img src="legend/Universityvunerabilityscore_6_030106254.png" /></td><td>0.301 - 0.625</td></tr></table>': layer_Universityvunerabilityscore_6,'Low_income_singles<br /><table><tr><td style="text-align: center;"><img src="legend/Low_income_singles_5_000160.png" /></td><td>0 - 0.016</td></tr><tr><td style="text-align: center;"><img src="legend/Low_income_singles_5_00160031.png" /></td><td>0.016 - 0.03</td></tr><tr><td style="text-align: center;"><img src="legend/Low_income_singles_5_00300472.png" /></td><td>0.03 - 0.047</td></tr><tr><td style="text-align: center;"><img src="legend/Low_income_singles_5_004700953.png" /></td><td>0.047 - 0.095</td></tr><tr><td style="text-align: center;"><img src="legend/Low_income_singles_5_009514.png" /></td><td>0.095 - 1</td></tr></table>': layer_Low_income_singles_5,'Twenty year olds<br /><table><tr><td style="text-align: center;"><img src="legend/Twentyyearolds_4_000360.png" /></td><td>0 - 0.036</td></tr><tr><td style="text-align: center;"><img src="legend/Twentyyearolds_4_003600551.png" /></td><td>0.036 - 0.055</td></tr><tr><td style="text-align: center;"><img src="legend/Twentyyearolds_4_005500862.png" /></td><td>0.055 - 0.086</td></tr><tr><td style="text-align: center;"><img src="legend/Twentyyearolds_4_008601323.png" /></td><td>0.086 - 0.132</td></tr><tr><td style="text-align: center;"><img src="legend/Twentyyearolds_4_013214.png" /></td><td>0.132 - 1</td></tr></table>': layer_Twentyyearolds_4,'Gini Coefficient<br /><table><tr><td style="text-align: center;"><img src="legend/GiniCoefficient_3_004780.png" /></td><td>0 - 0.478</td></tr><tr><td style="text-align: center;"><img src="legend/GiniCoefficient_3_047805381.png" /></td><td>0.478 - 0.538</td></tr><tr><td style="text-align: center;"><img src="legend/GiniCoefficient_3_053805792.png" /></td><td>0.538 - 0.579</td></tr><tr><td style="text-align: center;"><img src="legend/GiniCoefficient_3_057906153.png" /></td><td>0.579 - 0.615</td></tr><tr><td style="text-align: center;"><img src="legend/GiniCoefficient_3_061514.png" /></td><td>0.615 - 1</td></tr></table>': layer_GiniCoefficient_3,'Affordable Apartment Rent<br /><table><tr><td style="text-align: center;"><img src="legend/AffordableApartmentRent_2_003160.png" /></td><td>0 - 0.316</td></tr><tr><td style="text-align: center;"><img src="legend/AffordableApartmentRent_2_03160381.png" /></td><td>0.316 - 0.38</td></tr><tr><td style="text-align: center;"><img src="legend/AffordableApartmentRent_2_03804612.png" /></td><td>0.38 - 0.461</td></tr><tr><td style="text-align: center;"><img src="legend/AffordableApartmentRent_2_046105983.png" /></td><td>0.461 - 0.598</td></tr><tr><td style="text-align: center;"><img src="legend/AffordableApartmentRent_2_059814.png" /></td><td>0.598 - 1</td></tr></table>': layer_AffordableApartmentRent_2,'University Degrees<br /><table><tr><td style="text-align: center;"><img src="legend/UniversityDegrees_1_000770.png" /></td><td>0 - 0.077</td></tr><tr><td style="text-align: center;"><img src="legend/UniversityDegrees_1_007701271.png" /></td><td>0.077 - 0.127</td></tr><tr><td style="text-align: center;"><img src="legend/UniversityDegrees_1_012701832.png" /></td><td>0.127 - 0.183</td></tr><tr><td style="text-align: center;"><img src="legend/UniversityDegrees_1_018302973.png" /></td><td>0.183 - 0.297</td></tr><tr><td style="text-align: center;"><img src="legend/UniversityDegrees_1_029714.png" /></td><td>0.297 - 1</td></tr></table>': layer_UniversityDegrees_1,"OSM Standard": layer_OSMStandard_0,}).addTo(map);
        setBounds();
        </script>
    </body>
</html>
